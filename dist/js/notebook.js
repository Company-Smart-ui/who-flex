"use strict";var edit=document.querySelectorAll(".notebook__edit"),deleteText=document.querySelectorAll(".notebook__delete"),text=document.querySelectorAll(".accordion__notebook-text"),bodyAccordion=document.querySelectorAll(".accordion__body-wrap"),arentInfo=document.querySelector(".arent-info"),createText=document.getElementById("createText"),counterAcc=document.getElementById("counterAcc");function editText(){if(edit&&text){edit=document.querySelectorAll(".notebook__edit"),text=document.querySelectorAll(".accordion__notebook-text");for(var e=function(e){var t=!1;edit[e].addEventListener("click",(function(){if(t)text[e].removeAttribute("contentEditable");else{text[e].setAttribute("contentEditable",!0),text[e].addEventListener("paste",(function(e){e.preventDefault();var t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)})),text[e].focus();var o=document.createRange();o.selectNodeContents(text[e]),o.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(o),text[e].addEventListener("keyup",(function(){if(text[e].innerHTML.length>1e3){var t=text[e].innerHTML.substring(0,1e3);text[e].innerHTML=t,o.selectNodeContents(text[e]),o.collapse(!1),n.removeAllRanges(),n.addRange(o)}}))}text[e].addEventListener("blur",(function(){text[e].querySelectorAll("div").forEach((function(e){"<br>"===e.innerHTML&&e.remove()})),text[e].removeAttribute("contentEditable"),t=!1})),t=!t}))},t=0;t<edit.length;t++)e(t)}}function deleteTextF(){deleteText&&(deleteText=document.querySelectorAll(".notebook__delete")).forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".accordion__body-wrap"),o=e.closest(".accordion__item");t.remove(),o.querySelector(".accordion__body-wrap")||o.remove(),arentInfoF(),counter()}))}))}function counter(){var e=(bodyAccordion=document.querySelectorAll(".accordion__body-wrap")).length;counterAcc.innerHTML=String(e)}editText(),deleteTextF(),counter();var accordion=arentInfo.querySelector(".accordion"),arent=arentInfo.querySelector(".arent");function arentInfoF(){arent.classList.add("d-none"),arentInfo.querySelector(".accordion__item")||arent.classList.remove("d-none")}function createBlock(){arent.classList.add("d-none");var e=document.createElement("div");e.className="accordion__item is-open",e.innerHTML='<h3 type="button" class="accordion__title-text">Introduction</h3>\n<div class="accordion__body">\n                        <div class="accordion__body-wrap">\n                            <div class="accordion__svg">\n                                <button class="notebook__edit">\n                                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none">\n                                        <path d="M18 4.7156C18.0015 4.47636 17.9075 4.24646 17.739 4.07668L13.923 0.260956C13.7532 0.0925203 13.5232 -0.00149016 13.284 1.78666e-05C13.0447 -0.00148873 12.8148 0.0925203 12.645 0.260956L10.0979 2.80766L0.260979 12.6441C0.0925284 12.8139 -0.00149029 13.0438 1.78682e-05 13.2831V17.0988C1.78682e-05 17.3374 0.0947886 17.5664 0.26354 17.7352C0.432291 17.9039 0.661291 17.9987 0.899973 17.9987H4.71603C4.97066 18.0125 5.21927 17.9178 5.40006 17.7377L15.183 7.90164L17.739 5.39982C17.8211 5.31259 17.8882 5.2121 17.937 5.10273C17.9457 5.03101 17.9457 4.95855 17.937 4.88683C17.9412 4.84495 17.9412 4.80276 17.937 4.76088L18 4.7156ZM4.34714 16.1986H1.80005V13.6517L10.7371 4.71541L13.2842 7.26227L4.34714 16.1986ZM14.5532 5.99337L12.0063 3.44667L13.2843 2.17784L15.8223 4.71568L14.5532 5.99337Z" fill="#666666"/>\n                                    </svg>\n                                </button>\n                                <button class="notebook__delete">\n                                    <svg viewBox="248.724 10.377 16.176 17.999" width="16.176" height="17.999">\n                                       <path d="M 5.656 3.341 L 6.189 2.576 L 9.104 0.837 L 7.976 0.85 C 7.336 0.85 6.724 1.105 6.272 1.556 C 5.82 2.008 5.491 2.722 5.49 3.361 L 4.583 3.486 L 3.015 3.466 M 2.199 4.974 C 2.199 5.087 2.225 7.921 2.168 7.895 C 1.578 7.627 0.914 6.714 0.914 6.472 C 0.67 5.781 0.777 5.014 1.2 4.417 C 1.624 3.819 2.311 3.464 3.044 3.466 M 2.021 4.469 C 2.358 4.416 2.286 3.947 2.915 3.656 C 3.403 3.431 4.594 3.417 5.25 3.359 C 5.941 3.298 6.837 1.87 7.825 1.478 C 8.819 1.083 8.965 0.892 9.528 0.834 C 10.168 0.834 10.871 1.105 11.323 1.556 C 11.775 2.008 12.029 2.621 12.03 3.26 L 12.03 3.316 L 14.551 3.316 C 15.412 3.316 16.208 3.775 16.638 4.521 C 17.069 5.267 17.069 6.185 16.638 6.931 C 16.208 7.677 15.412 8.136 14.551 8.136 L 3.811 8.136 L 3.811 16.411 C 3.811 16.644 3.904 16.867 4.068 17.031 C 4.233 17.196 4.456 17.288 4.688 17.289 L 12.907 17.289 C 13.14 17.288 13.363 17.196 13.527 17.031 C 13.692 16.867 13.784 16.644 13.785 16.411 L 13.785 11.48 C 13.785 11.206 13.931 10.953 14.168 10.816 C 14.405 10.679 14.697 10.679 14.934 10.816 C 15.172 10.953 15.318 11.206 15.318 11.48 L 15.318 16.411 C 15.317 17.05 15.063 17.663 14.611 18.115 C 14.159 18.567 13.547 18.821 12.908 18.821 L 12.907 18.821 L 4.688 18.821 C 4.049 18.821 3.436 18.567 2.984 18.115 C 2.532 17.663 2.278 17.05 2.278 16.411 L 2.286 7.954 L 2.021 4.469 Z M 10.712 3.287 C 11.207 3.523 10.589 2.26 9.516 2.286 L 7.954 2.286 C 7.954 2.286 7.52 2.476 7.356 2.64 C 7.191 2.805 7.099 3.028 7.098 3.26 M 7.098 3.26 L 7.098 3.316 M 7.098 3.26 L 7.098 3.316 M 7.098 3.316 L 11.401 3.304 M 15.171 6.346 C 15.336 6.182 15.428 5.959 15.429 5.726 C 15.428 5.494 15.336 5.271 15.171 5.106 C 15.007 4.942 14.784 4.849 14.551 4.849 L 3.044 4.849 C 2.4 4.793 1.958 5.79 2.284 6.165 C 2.61 6.54 2.579 6.588 3.044 6.603 L 14.551 6.603 M 15.171 6.346 L 15.277 6.452 C 15.085 6.645 14.824 6.753 14.551 6.753 L 14.551 6.603 M 15.171 6.346 C 15.007 6.51 14.784 6.603 14.551 6.603 M 15.171 6.346 C 15.38 6.523 14.903 6.901 14.551 6.603 M 3.09 18.009 C 3.514 18.433 4.089 18.671 4.688 18.671 L 12.907 18.671 C 13.507 18.671 14.013 16.824 14.505 18.009 C 14.997 19.194 3.068 19.018 3.09 18.009 Z" fill="#666666" stroke="#666666" stroke-width="0.3" transform="matrix(1, 0, 0, 1, 247.939087, 9.542551)"></path>\n                                        <path d="M 10.059 14.609 C 10.297 14.746 10.589 14.746 10.826 14.609 C 11.063 14.472 11.209 14.219 11.209 13.945 L 11.209 10.657 C 11.209 10.384 11.09 9.964 10.602 9.916 C 9.98 9.913 9.856 10.447 9.819 10.65 C 9.814 10.677 9.8 13.931 9.802 13.996 C 9.81 14.229 10.041 14.556 10.059 14.609 Z" fill="#666666" transform="matrix(1, 0, 0, 1, 247.939087, 9.542551)" style="paint-order: stroke;" stroke-width="0.3"></path>\n                                        <path d="M13.7836 9.0139V9.83577C13.7836 10.1097 13.9297 10.3627 14.1668 10.4996C14.4039 10.6364 14.6961 10.6364 14.9332 10.4996C15.1704 10.3627 15.3165 10.1096 15.3165 9.83577V9.0139C15.3165 8.74002 15.1704 8.48699 14.9332 8.35011C14.6961 8.21325 14.4039 8.21324 14.1668 8.35011C13.9297 8.48699 13.7836 8.74002 13.7836 9.0139Z" fill="#666666" stroke="#666666" stroke-width="0.3" transform="matrix(1, 0, 0, 1, 247.939087, 9.542551)"></path>\n                                        <path d="M 254.573 24.176 C 254.811 24.313 255.103 24.313 255.34 24.176 C 255.577 24.039 255.723 23.786 255.723 23.512 L 255.723 20.224 C 255.723 19.951 255.604 19.531 255.116 19.483 C 254.494 19.48 254.37 20.014 254.333 20.217 C 254.328 20.244 254.314 23.498 254.316 23.563 C 254.324 23.796 254.555 24.123 254.573 24.176 Z" fill="#666666" style="paint-order: stroke;" stroke-width="0.3"></path>\n                                    </svg>\n                                </button>\n                            </div>\n                            <h4 class="accordion__audio">\n                                <svg width="16" height="19" viewBox="0 0 16 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                    <path d="M1 1V17.6667L14.5417 9.33333L1 1Z" stroke="#D2B038" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                                </svg>\n                                Why the future of work matters (00:24)\n                            </h4>\n                            <div className="accordion__notebook-wrap-text">\n                                <p class="accordion__notebook-text">'+createText.value+"</p></div></div></div>",accordion.append(e);var t=e.querySelector(".accordion__body");t.style.overflow="hidden",t.style.transition="max-height 5s cubic-bezier(0.22, 0.61, 0.36, 1)",t.style.maxHeight="2000px",e.classList.add("is-open");var o=e.querySelector(".accordion__title-text"),n=e.querySelector(".accordion__body");o.addEventListener("click",(function(){e.classList.contains("is-open")?(n.removeAttribute("style"),e.classList.remove("is-open")):(n.style.overflow="hidden",n.style.transition="max-height 5s cubic-bezier(0.22, 0.61, 0.36, 1)",n.style.maxHeight="2000px",e.classList.add("is-open"))}))}arentInfoF(),arentInfo&&createText&&(arentInfoF(),createText.addEventListener("keyup",(function(e){13===e.keyCode&&(createText.value.length>1&&" "!==createText.value?(createText.select(),document.execCommand("copy"),createBlock(createText.value),createText.focus(),createText.value=""):(createText.blur(),createText.value=""),editText(),deleteTextF(),counter())})));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdGVib29rLmpzIl0sIm5hbWVzIjpbImVkaXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkZWxldGVUZXh0IiwidGV4dCIsImJvZHlBY2NvcmRpb24iLCJhcmVudEluZm8iLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlVGV4dCIsImdldEVsZW1lbnRCeUlkIiwiY291bnRlckFjYyIsImVkaXRUZXh0IiwiX2xvb3AiLCJpIiwiZWRpdE1vZGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiZSIsInByZXZlbnREZWZhdWx0Iiwib3JpZ2luYWxFdmVudCIsImNsaXBib2FyZERhdGEiLCJnZXREYXRhIiwiZXhlY0NvbW1hbmQiLCJmb2N1cyIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJjb2xsYXBzZSIsInNlbCIsIndpbmRvdyIsImdldFNlbGVjdGlvbiIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiaW5uZXJIVE1MIiwibGVuZ3RoIiwiY3VyclRleHQiLCJzdWJzdHJpbmciLCJmb3JFYWNoIiwiZGl2IiwicmVtb3ZlIiwiZGVsZXRlVGV4dEYiLCJpdGVtIiwicGFyZW50IiwiY2xvc2VzdCIsIm1haW5QYXJlbnQiLCJhcmVudEluZm9GIiwiY291bnRlciIsIm51bSIsIlN0cmluZyIsImFjY29yZGlvbiIsImFyZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiY3JlYXRlQmxvY2siLCJhZGRBY2NJdGVtIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInZhbHVlIiwiYXBwZW5kIiwiYWNjQm9keSIsInN0eWxlIiwib3ZlcmZsb3ciLCJ0cmFuc2l0aW9uIiwibWF4SGVpZ2h0IiwidGl0bGUiLCJib2R5IiwiY29udGFpbnMiLCJrZXlDb2RlIiwic2VsZWN0IiwiYmx1ciJdLCJtYXBwaW5ncyI6IkFBQUEsYUFBQSxJQUFJQSxLQUFPQyxTQUFTQyxpQkFBaUIsbUJBQ2pDQyxXQUFhRixTQUFTQyxpQkFBaUIscUJBQ3ZDRSxLQUFPSCxTQUFTQyxpQkFBaUIsNkJBQ2pDRyxjQUFnQkosU0FBU0MsaUJBQWlCLHlCQUN4Q0ksVUFBWUwsU0FBU00sY0FBYyxlQUNuQ0MsV0FBYVAsU0FBU1EsZUFBZSxjQUNyQ0MsV0FBYVQsU0FBU1EsZUFBZSxjQUczQyxTQUFTRSxXQUNMLEdBQUdYLE1BQVFJLEtBQUssQ0FDWkosS0FBT0MsU0FBU0MsaUJBQWlCLG1CQUNqQ0UsS0FBT0gsU0FBU0MsaUJBQWlCLDZCQUNqQyxJQUQ4RCxJQUFBVSxFQUFBLFNBQ3JEQyxHQUNMLElBQUlDLEdBQVcsRUFDZmQsS0FBS2EsR0FBR0UsaUJBQWlCLFNBQVMsV0FDOUIsR0FBSUQsRUFDQVYsS0FBS1MsR0FBR0csZ0JBQWdCLHVCQUNyQixDQUNIWixLQUFLUyxHQUFHSSxhQUFhLG1CQUFtQixHQUN4Q2IsS0FBS1MsR0FBR0UsaUJBQWlCLFNBQVMsU0FBU0csR0FDdkNBLEVBQUVDLGlCQUNGLElBQU1mLEdBQVFjLEVBQUVFLGVBQWlCRixHQUFHRyxjQUFjQyxRQUFRLGNBQzFEckIsU0FBU3NCLFlBQVksY0FBYyxFQUFPbkIsRUFDOUMsSUFDQUEsS0FBS1MsR0FBR1csUUFFUixJQUFNQyxFQUFReEIsU0FBU3lCLGNBQ3ZCRCxFQUFNRSxtQkFBbUJ2QixLQUFLUyxJQUM5QlksRUFBTUcsVUFBUyxHQUNmLElBQU1DLEVBQU1DLE9BQU9DLGVBQ25CRixFQUFJRyxrQkFDSkgsRUFBSUksU0FBU1IsR0FFYnJCLEtBQUtTLEdBQUdFLGlCQUFpQixTQUFTLFdBQzlCLEdBQUdYLEtBQUtTLEdBQUdxQixVQUFVQyxPQUFTLElBQU0sQ0FDaEMsSUFBTUMsRUFBV2hDLEtBQUtTLEdBQUdxQixVQUFVRyxVQUFVLEVBQUcsS0FDaERqQyxLQUFLUyxHQUFHcUIsVUFBWUUsRUFFcEJYLEVBQU1FLG1CQUFtQnZCLEtBQUtTLElBQzlCWSxFQUFNRyxVQUFTLEdBQ2ZDLEVBQUlHLGtCQUNKSCxFQUFJSSxTQUFTUixFQUNqQixDQUNKLEdBQ0osQ0FDQXJCLEtBQUtTLEdBQUdFLGlCQUFpQixRQUFRLFdBQ2hCWCxLQUFLUyxHQUFHWCxpQkFBaUIsT0FDakNvQyxTQUFRLFNBQUFDLEdBQ08sU0FBYkEsRUFBSUwsV0FDSEssRUFBSUMsUUFFWixJQUVBcEMsS0FBS1MsR0FBR0csZ0JBQWdCLG1CQUN4QkYsR0FBVyxDQUNmLElBRUFBLEdBQVlBLENBQ2hCLEdBQUcsRUE5Q0VELEVBQUksRUFBR0EsRUFBSWIsS0FBS21DLE9BQVF0QixJQUFLRCxFQUE3QkMsRUFnRGIsQ0FDSixDQUVBLFNBQVM0QixjQUNGdEMsYUFDQ0EsV0FBYUYsU0FBU0MsaUJBQWlCLHNCQUM1Qm9DLFNBQVEsU0FBQUksR0FDZkEsRUFBSzNCLGlCQUFpQixTQUFTLFdBQzNCLElBQU00QixFQUFTRCxFQUFLRSxRQUFRLHlCQUN0QkMsRUFBYUgsRUFBS0UsUUFBUSxvQkFDaENELEVBQU9ILFNBQ0hLLEVBQVd0QyxjQUFjLDBCQUN6QnNDLEVBQVdMLFNBRWZNLGFBQ0FDLFNBQ0osR0FDSixHQUVSLENBR0EsU0FBU0EsVUFFTCxJQUFJQyxHQURKM0MsY0FBZ0JKLFNBQVNDLGlCQUFpQiwwQkFDbEJpQyxPQUN4QnpCLFdBQVd3QixVQUFZZSxPQUFPRCxFQUNsQyxDQXhCQXJDLFdBa0JBOEIsY0FPQU0sVUFFQSxJQUFNRyxVQUFZNUMsVUFBVUMsY0FBYyxjQUNwQzRDLE1BQVE3QyxVQUFVQyxjQUFjLFVBRXRDLFNBQVN1QyxhQUNMSyxNQUFNQyxVQUFVQyxJQUFJLFVBQ2hCL0MsVUFBVUMsY0FBYyxxQkFDeEI0QyxNQUFNQyxVQUFVWixPQUFPLFNBRS9CLENBQ0EsU0FBU2MsY0FDTEgsTUFBTUMsVUFBVUMsSUFBSSxVQUNwQixJQUFNRSxFQUFhdEQsU0FBU3VELGNBQWMsT0FDMUNELEVBQVdFLFVBQVksMEJBQ3ZCRixFQUFXckIsVUFBWSwwekxBMEJuQjFCLFdBQVdrRCxNQUFRLHlCQUN2QlIsVUFBVVMsT0FBT0osR0FFakIsSUFBTUssRUFBVUwsRUFBV2hELGNBQWMsb0JBQ3pDcUQsRUFBUUMsTUFBTUMsU0FBVyxTQUN6QkYsRUFBUUMsTUFBTUUsV0FBYSxrREFDM0JILEVBQVFDLE1BQU1HLFVBQVksU0FFMUJULEVBQVdILFVBQVVDLElBQUksV0FDekIsSUFBTVksRUFBUVYsRUFBV2hELGNBQWMsMEJBQ2pDMkQsRUFBT1gsRUFBV2hELGNBQWMsb0JBQ3RDMEQsRUFBTWxELGlCQUFpQixTQUFTLFdBQ3hCd0MsRUFBV0gsVUFBVWUsU0FBUyxZQUM5QkQsRUFBS2xELGdCQUFnQixTQUNyQnVDLEVBQVdILFVBQVVaLE9BQU8sYUFFNUIwQixFQUFLTCxNQUFNQyxTQUFXLFNBQ3RCSSxFQUFLTCxNQUFNRSxXQUFhLGtEQUN4QkcsRUFBS0wsTUFBTUcsVUFBWSxTQUN2QlQsRUFBV0gsVUFBVUMsSUFBSSxXQUVqQyxHQUNKLENBckRDUCxhQXdETXhDLFdBQWFFLGFBQ1pzQyxhQUNBdEMsV0FBV08saUJBQWlCLFNBQVMsU0FBU0csR0FDeEIsS0FBZEEsRUFBRWtELFVBQ0M1RCxXQUFXa0QsTUFBTXZCLE9BQVMsR0FBMEIsTUFBckIzQixXQUFXa0QsT0FDekNsRCxXQUFXNkQsU0FDWHBFLFNBQVNzQixZQUFZLFFBQ3JCK0IsWUFBWTlDLFdBQVdrRCxPQUN2QmxELFdBQVdnQixRQUNYaEIsV0FBV2tELE1BQVEsS0FFbkJsRCxXQUFXOEQsT0FDWDlELFdBQVdrRCxNQUFRLElBRXZCL0MsV0FDQThCLGNBQ0FNLFVBRVIiLCJmaWxlIjoibm90ZWJvb2suanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3RlYm9va19fZWRpdCcpO1xubGV0IGRlbGV0ZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubm90ZWJvb2tfX2RlbGV0ZScpO1xubGV0IHRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uX19ub3RlYm9vay10ZXh0Jyk7XG5sZXQgYm9keUFjY29yZGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX2JvZHktd3JhcCcpO1xuY29uc3QgYXJlbnRJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFyZW50LWluZm8nKTtcbmNvbnN0IGNyZWF0ZVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlVGV4dCcpO1xuY29uc3QgY291bnRlckFjYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3VudGVyQWNjJyk7XG5cblxuZnVuY3Rpb24gZWRpdFRleHQoKXtcbiAgICBpZihlZGl0ICYmIHRleHQpe1xuICAgICAgICBlZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5vdGVib29rX19lZGl0Jyk7XG4gICAgICAgIHRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uX19ub3RlYm9vay10ZXh0Jyk7XG4gICAgICAgIGZvciggbGV0IGkgPSAwOyBpIDwgZWRpdC5sZW5ndGg7IGkrKyApe1xuICAgICAgICAgICAgbGV0IGVkaXRNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICBlZGl0W2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZiggZWRpdE1vZGUgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRbaV0ucmVtb3ZlQXR0cmlidXRlKCdjb250ZW50RWRpdGFibGUnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0W2ldLnNldEF0dHJpYnV0ZSgnY29udGVudEVkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRleHRbaV0uYWRkRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSAoZS5vcmlnaW5hbEV2ZW50IHx8IGUpLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJpbnNlcnRIVE1MXCIsIGZhbHNlLCB0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRleHRbaV0uZm9jdXMoKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyh0ZXh0W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcblxuICAgICAgICAgICAgICAgICAgICB0ZXh0W2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRleHRbaV0uaW5uZXJIVE1MLmxlbmd0aCA+IDEwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyVGV4dCA9IHRleHRbaV0uaW5uZXJIVE1MLnN1YnN0cmluZygwLCAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0W2ldLmlubmVySFRNTCA9IGN1cnJUZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKHRleHRbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGV4dFtpXS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpdnMgPSB0ZXh0W2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICBkaXZzLmZvckVhY2goZGl2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRpdi5pbm5lckhUTUwgPT09IGA8YnI+YCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgdGV4dFtpXS5yZW1vdmVBdHRyaWJ1dGUoJ2NvbnRlbnRFZGl0YWJsZScpO1xuICAgICAgICAgICAgICAgICAgICBlZGl0TW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICBlZGl0TW9kZSA9ICFlZGl0TW9kZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZWRpdFRleHQoKTtcbmZ1bmN0aW9uIGRlbGV0ZVRleHRGKCl7XG4gICAgaWYoZGVsZXRlVGV4dCl7XG4gICAgICAgIGRlbGV0ZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubm90ZWJvb2tfX2RlbGV0ZScpO1xuICAgICAgICBkZWxldGVUZXh0LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBpdGVtLmNsb3Nlc3QoJy5hY2NvcmRpb25fX2JvZHktd3JhcCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1haW5QYXJlbnQgPSBpdGVtLmNsb3Nlc3QoJy5hY2NvcmRpb25fX2l0ZW0nKTtcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaWYoIW1haW5QYXJlbnQucXVlcnlTZWxlY3RvcignLmFjY29yZGlvbl9fYm9keS13cmFwJykpe1xuICAgICAgICAgICAgICAgICAgICBtYWluUGFyZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcmVudEluZm9GKCk7XG4gICAgICAgICAgICAgICAgY291bnRlcigpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG59XG5kZWxldGVUZXh0RigpO1xuXG5mdW5jdGlvbiBjb3VudGVyKCl7XG4gICAgYm9keUFjY29yZGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX2JvZHktd3JhcCcpO1xuICAgIGxldCBudW0gPSBib2R5QWNjb3JkaW9uLmxlbmd0aDtcbiAgICBjb3VudGVyQWNjLmlubmVySFRNTCA9IFN0cmluZyhudW0pO1xufVxuY291bnRlcigpO1xuXG5jb25zdCBhY2NvcmRpb24gPSBhcmVudEluZm8ucXVlcnlTZWxlY3RvcignLmFjY29yZGlvbicpO1xuY29uc3QgYXJlbnQgPSBhcmVudEluZm8ucXVlcnlTZWxlY3RvcignLmFyZW50JylcblxuZnVuY3Rpb24gYXJlbnRJbmZvRigpe1xuICAgIGFyZW50LmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xuICAgIGlmKCFhcmVudEluZm8ucXVlcnlTZWxlY3RvcignLmFjY29yZGlvbl9faXRlbScpKXtcbiAgICAgICAgYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XG4gICAgfVxufWFyZW50SW5mb0YoKTtcbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrKCl7XG4gICAgYXJlbnQuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG4gICAgY29uc3QgYWRkQWNjSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGFkZEFjY0l0ZW0uY2xhc3NOYW1lID0gJ2FjY29yZGlvbl9faXRlbSBpcy1vcGVuJztcbiAgICBhZGRBY2NJdGVtLmlubmVySFRNTCA9IFwiPGgzIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImFjY29yZGlvbl9fdGl0bGUtdGV4dFxcXCI+SW50cm9kdWN0aW9uPC9oMz5cXG5cIiArXG4gICAgICAgIFwiPGRpdiBjbGFzcz1cXFwiYWNjb3JkaW9uX19ib2R5XFxcIj5cXG5cIiArXG4gICAgICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYWNjb3JkaW9uX19ib2R5LXdyYXBcXFwiPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYWNjb3JkaW9uX19zdmdcXFwiPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcIm5vdGVib29rX19lZGl0XFxcIj5cXG5cIiArXG4gICAgICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCIgZmlsbD1cXFwibm9uZVxcXCI+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVxcXCJNMTggNC43MTU2QzE4LjAwMTUgNC40NzYzNiAxNy45MDc1IDQuMjQ2NDYgMTcuNzM5IDQuMDc2NjhMMTMuOTIzIDAuMjYwOTU2QzEzLjc1MzIgMC4wOTI1MjAzIDEzLjUyMzIgLTAuMDAxNDkwMTYgMTMuMjg0IDEuNzg2NjZlLTA1QzEzLjA0NDcgLTAuMDAxNDg4NzMgMTIuODE0OCAwLjA5MjUyMDMgMTIuNjQ1IDAuMjYwOTU2TDEwLjA5NzkgMi44MDc2NkwwLjI2MDk3OSAxMi42NDQxQzAuMDkyNTI4NCAxMi44MTM5IC0wLjAwMTQ5MDI5IDEzLjA0MzggMS43ODY4MmUtMDUgMTMuMjgzMVYxNy4wOTg4QzEuNzg2ODJlLTA1IDE3LjMzNzQgMC4wOTQ3ODg2IDE3LjU2NjQgMC4yNjM1NCAxNy43MzUyQzAuNDMyMjkxIDE3LjkwMzkgMC42NjEyOTEgMTcuOTk4NyAwLjg5OTk3MyAxNy45OTg3SDQuNzE2MDNDNC45NzA2NiAxOC4wMTI1IDUuMjE5MjcgMTcuOTE3OCA1LjQwMDA2IDE3LjczNzdMMTUuMTgzIDcuOTAxNjRMMTcuNzM5IDUuMzk5ODJDMTcuODIxMSA1LjMxMjU5IDE3Ljg4ODIgNS4yMTIxIDE3LjkzNyA1LjEwMjczQzE3Ljk0NTcgNS4wMzEwMSAxNy45NDU3IDQuOTU4NTUgMTcuOTM3IDQuODg2ODNDMTcuOTQxMiA0Ljg0NDk1IDE3Ljk0MTIgNC44MDI3NiAxNy45MzcgNC43NjA4OEwxOCA0LjcxNTZaTTQuMzQ3MTQgMTYuMTk4NkgxLjgwMDA1VjEzLjY1MTdMMTAuNzM3MSA0LjcxNTQxTDEzLjI4NDIgNy4yNjIyN0w0LjM0NzE0IDE2LjE5ODZaTTE0LjU1MzIgNS45OTMzN0wxMi4wMDYzIDMuNDQ2NjdMMTMuMjg0MyAyLjE3Nzg0TDE1LjgyMjMgNC43MTU2OEwxNC41NTMyIDUuOTkzMzdaXFxcIiBmaWxsPVxcXCIjNjY2NjY2XFxcIi8+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcIm5vdGVib29rX19kZWxldGVcXFwiPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9XFxcIjI0OC43MjQgMTAuMzc3IDE2LjE3NiAxNy45OTlcXFwiIHdpZHRoPVxcXCIxNi4xNzZcXFwiIGhlaWdodD1cXFwiMTcuOTk5XFxcIj5cXG5cIiArXG4gICAgICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cXFwiTSA1LjY1NiAzLjM0MSBMIDYuMTg5IDIuNTc2IEwgOS4xMDQgMC44MzcgTCA3Ljk3NiAwLjg1IEMgNy4zMzYgMC44NSA2LjcyNCAxLjEwNSA2LjI3MiAxLjU1NiBDIDUuODIgMi4wMDggNS40OTEgMi43MjIgNS40OSAzLjM2MSBMIDQuNTgzIDMuNDg2IEwgMy4wMTUgMy40NjYgTSAyLjE5OSA0Ljk3NCBDIDIuMTk5IDUuMDg3IDIuMjI1IDcuOTIxIDIuMTY4IDcuODk1IEMgMS41NzggNy42MjcgMC45MTQgNi43MTQgMC45MTQgNi40NzIgQyAwLjY3IDUuNzgxIDAuNzc3IDUuMDE0IDEuMiA0LjQxNyBDIDEuNjI0IDMuODE5IDIuMzExIDMuNDY0IDMuMDQ0IDMuNDY2IE0gMi4wMjEgNC40NjkgQyAyLjM1OCA0LjQxNiAyLjI4NiAzLjk0NyAyLjkxNSAzLjY1NiBDIDMuNDAzIDMuNDMxIDQuNTk0IDMuNDE3IDUuMjUgMy4zNTkgQyA1Ljk0MSAzLjI5OCA2LjgzNyAxLjg3IDcuODI1IDEuNDc4IEMgOC44MTkgMS4wODMgOC45NjUgMC44OTIgOS41MjggMC44MzQgQyAxMC4xNjggMC44MzQgMTAuODcxIDEuMTA1IDExLjMyMyAxLjU1NiBDIDExLjc3NSAyLjAwOCAxMi4wMjkgMi42MjEgMTIuMDMgMy4yNiBMIDEyLjAzIDMuMzE2IEwgMTQuNTUxIDMuMzE2IEMgMTUuNDEyIDMuMzE2IDE2LjIwOCAzLjc3NSAxNi42MzggNC41MjEgQyAxNy4wNjkgNS4yNjcgMTcuMDY5IDYuMTg1IDE2LjYzOCA2LjkzMSBDIDE2LjIwOCA3LjY3NyAxNS40MTIgOC4xMzYgMTQuNTUxIDguMTM2IEwgMy44MTEgOC4xMzYgTCAzLjgxMSAxNi40MTEgQyAzLjgxMSAxNi42NDQgMy45MDQgMTYuODY3IDQuMDY4IDE3LjAzMSBDIDQuMjMzIDE3LjE5NiA0LjQ1NiAxNy4yODggNC42ODggMTcuMjg5IEwgMTIuOTA3IDE3LjI4OSBDIDEzLjE0IDE3LjI4OCAxMy4zNjMgMTcuMTk2IDEzLjUyNyAxNy4wMzEgQyAxMy42OTIgMTYuODY3IDEzLjc4NCAxNi42NDQgMTMuNzg1IDE2LjQxMSBMIDEzLjc4NSAxMS40OCBDIDEzLjc4NSAxMS4yMDYgMTMuOTMxIDEwLjk1MyAxNC4xNjggMTAuODE2IEMgMTQuNDA1IDEwLjY3OSAxNC42OTcgMTAuNjc5IDE0LjkzNCAxMC44MTYgQyAxNS4xNzIgMTAuOTUzIDE1LjMxOCAxMS4yMDYgMTUuMzE4IDExLjQ4IEwgMTUuMzE4IDE2LjQxMSBDIDE1LjMxNyAxNy4wNSAxNS4wNjMgMTcuNjYzIDE0LjYxMSAxOC4xMTUgQyAxNC4xNTkgMTguNTY3IDEzLjU0NyAxOC44MjEgMTIuOTA4IDE4LjgyMSBMIDEyLjkwNyAxOC44MjEgTCA0LjY4OCAxOC44MjEgQyA0LjA0OSAxOC44MjEgMy40MzYgMTguNTY3IDIuOTg0IDE4LjExNSBDIDIuNTMyIDE3LjY2MyAyLjI3OCAxNy4wNSAyLjI3OCAxNi40MTEgTCAyLjI4NiA3Ljk1NCBMIDIuMDIxIDQuNDY5IFogTSAxMC43MTIgMy4yODcgQyAxMS4yMDcgMy41MjMgMTAuNTg5IDIuMjYgOS41MTYgMi4yODYgTCA3Ljk1NCAyLjI4NiBDIDcuOTU0IDIuMjg2IDcuNTIgMi40NzYgNy4zNTYgMi42NCBDIDcuMTkxIDIuODA1IDcuMDk5IDMuMDI4IDcuMDk4IDMuMjYgTSA3LjA5OCAzLjI2IEwgNy4wOTggMy4zMTYgTSA3LjA5OCAzLjI2IEwgNy4wOTggMy4zMTYgTSA3LjA5OCAzLjMxNiBMIDExLjQwMSAzLjMwNCBNIDE1LjE3MSA2LjM0NiBDIDE1LjMzNiA2LjE4MiAxNS40MjggNS45NTkgMTUuNDI5IDUuNzI2IEMgMTUuNDI4IDUuNDk0IDE1LjMzNiA1LjI3MSAxNS4xNzEgNS4xMDYgQyAxNS4wMDcgNC45NDIgMTQuNzg0IDQuODQ5IDE0LjU1MSA0Ljg0OSBMIDMuMDQ0IDQuODQ5IEMgMi40IDQuNzkzIDEuOTU4IDUuNzkgMi4yODQgNi4xNjUgQyAyLjYxIDYuNTQgMi41NzkgNi41ODggMy4wNDQgNi42MDMgTCAxNC41NTEgNi42MDMgTSAxNS4xNzEgNi4zNDYgTCAxNS4yNzcgNi40NTIgQyAxNS4wODUgNi42NDUgMTQuODI0IDYuNzUzIDE0LjU1MSA2Ljc1MyBMIDE0LjU1MSA2LjYwMyBNIDE1LjE3MSA2LjM0NiBDIDE1LjAwNyA2LjUxIDE0Ljc4NCA2LjYwMyAxNC41NTEgNi42MDMgTSAxNS4xNzEgNi4zNDYgQyAxNS4zOCA2LjUyMyAxNC45MDMgNi45MDEgMTQuNTUxIDYuNjAzIE0gMy4wOSAxOC4wMDkgQyAzLjUxNCAxOC40MzMgNC4wODkgMTguNjcxIDQuNjg4IDE4LjY3MSBMIDEyLjkwNyAxOC42NzEgQyAxMy41MDcgMTguNjcxIDE0LjAxMyAxNi44MjQgMTQuNTA1IDE4LjAwOSBDIDE0Ljk5NyAxOS4xOTQgMy4wNjggMTkuMDE4IDMuMDkgMTguMDA5IFpcXFwiIGZpbGw9XFxcIiM2NjY2NjZcXFwiIHN0cm9rZT1cXFwiIzY2NjY2NlxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIwLjNcXFwiIHRyYW5zZm9ybT1cXFwibWF0cml4KDEsIDAsIDAsIDEsIDI0Ny45MzkwODcsIDkuNTQyNTUxKVxcXCI+PC9wYXRoPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cXFwiTSAxMC4wNTkgMTQuNjA5IEMgMTAuMjk3IDE0Ljc0NiAxMC41ODkgMTQuNzQ2IDEwLjgyNiAxNC42MDkgQyAxMS4wNjMgMTQuNDcyIDExLjIwOSAxNC4yMTkgMTEuMjA5IDEzLjk0NSBMIDExLjIwOSAxMC42NTcgQyAxMS4yMDkgMTAuMzg0IDExLjA5IDkuOTY0IDEwLjYwMiA5LjkxNiBDIDkuOTggOS45MTMgOS44NTYgMTAuNDQ3IDkuODE5IDEwLjY1IEMgOS44MTQgMTAuNjc3IDkuOCAxMy45MzEgOS44MDIgMTMuOTk2IEMgOS44MSAxNC4yMjkgMTAuMDQxIDE0LjU1NiAxMC4wNTkgMTQuNjA5IFpcXFwiIGZpbGw9XFxcIiM2NjY2NjZcXFwiIHRyYW5zZm9ybT1cXFwibWF0cml4KDEsIDAsIDAsIDEsIDI0Ny45MzkwODcsIDkuNTQyNTUxKVxcXCIgc3R5bGU9XFxcInBhaW50LW9yZGVyOiBzdHJva2U7XFxcIiBzdHJva2Utd2lkdGg9XFxcIjAuM1xcXCI+PC9wYXRoPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cXFwiTTEzLjc4MzYgOS4wMTM5VjkuODM1NzdDMTMuNzgzNiAxMC4xMDk3IDEzLjkyOTcgMTAuMzYyNyAxNC4xNjY4IDEwLjQ5OTZDMTQuNDAzOSAxMC42MzY0IDE0LjY5NjEgMTAuNjM2NCAxNC45MzMyIDEwLjQ5OTZDMTUuMTcwNCAxMC4zNjI3IDE1LjMxNjUgMTAuMTA5NiAxNS4zMTY1IDkuODM1NzdWOS4wMTM5QzE1LjMxNjUgOC43NDAwMiAxNS4xNzA0IDguNDg2OTkgMTQuOTMzMiA4LjM1MDExQzE0LjY5NjEgOC4yMTMyNSAxNC40MDM5IDguMjEzMjQgMTQuMTY2OCA4LjM1MDExQzEzLjkyOTcgOC40ODY5OSAxMy43ODM2IDguNzQwMDIgMTMuNzgzNiA5LjAxMzlaXFxcIiBmaWxsPVxcXCIjNjY2NjY2XFxcIiBzdHJva2U9XFxcIiM2NjY2NjZcXFwiIHN0cm9rZS13aWR0aD1cXFwiMC4zXFxcIiB0cmFuc2Zvcm09XFxcIm1hdHJpeCgxLCAwLCAwLCAxLCAyNDcuOTM5MDg3LCA5LjU0MjU1MSlcXFwiPjwvcGF0aD5cXG5cIiArXG4gICAgICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XFxcIk0gMjU0LjU3MyAyNC4xNzYgQyAyNTQuODExIDI0LjMxMyAyNTUuMTAzIDI0LjMxMyAyNTUuMzQgMjQuMTc2IEMgMjU1LjU3NyAyNC4wMzkgMjU1LjcyMyAyMy43ODYgMjU1LjcyMyAyMy41MTIgTCAyNTUuNzIzIDIwLjIyNCBDIDI1NS43MjMgMTkuOTUxIDI1NS42MDQgMTkuNTMxIDI1NS4xMTYgMTkuNDgzIEMgMjU0LjQ5NCAxOS40OCAyNTQuMzcgMjAuMDE0IDI1NC4zMzMgMjAuMjE3IEMgMjU0LjMyOCAyMC4yNDQgMjU0LjMxNCAyMy40OTggMjU0LjMxNiAyMy41NjMgQyAyNTQuMzI0IDIzLjc5NiAyNTQuNTU1IDI0LjEyMyAyNTQuNTczIDI0LjE3NiBaXFxcIiBmaWxsPVxcXCIjNjY2NjY2XFxcIiBzdHlsZT1cXFwicGFpbnQtb3JkZXI6IHN0cm9rZTtcXFwiIHN0cm9rZS13aWR0aD1cXFwiMC4zXFxcIj48L3BhdGg+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XFxcImFjY29yZGlvbl9fYXVkaW9cXFwiPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XFxcIjE2XFxcIiBoZWlnaHQ9XFxcIjE5XFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTlcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XFxcIk0xIDFWMTcuNjY2N0wxNC41NDE3IDkuMzMzMzNMMSAxWlxcXCIgc3Ryb2tlPVxcXCIjRDJCMDM4XFxcIiBzdHJva2Utd2lkdGg9XFxcIjJcXFwiIHN0cm9rZS1saW5lY2FwPVxcXCJyb3VuZFxcXCIgc3Ryb2tlLWxpbmVqb2luPVxcXCJyb3VuZFxcXCIvPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdoeSB0aGUgZnV0dXJlIG9mIHdvcmsgbWF0dGVycyAoMDA6MjQpXFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XFxcImFjY29yZGlvbl9fbm90ZWJvb2std3JhcC10ZXh0XFxcIj5cXG4gXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwiYWNjb3JkaW9uX19ub3RlYm9vay10ZXh0XFxcIj5cIiArXG4gICAgICAgIGNyZWF0ZVRleHQudmFsdWUgKyBcIjwvcD48L2Rpdj48L2Rpdj48L2Rpdj5cIjtcbiAgICBhY2NvcmRpb24uYXBwZW5kKGFkZEFjY0l0ZW0pO1xuXG4gICAgY29uc3QgYWNjQm9keSA9IGFkZEFjY0l0ZW0ucXVlcnlTZWxlY3RvcignLmFjY29yZGlvbl9fYm9keScpO1xuICAgIGFjY0JvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICBhY2NCb2R5LnN0eWxlLnRyYW5zaXRpb24gPSAnbWF4LWhlaWdodCA1cyBjdWJpYy1iZXppZXIoMC4yMiwgMC42MSwgMC4zNiwgMSknO1xuICAgIGFjY0JvZHkuc3R5bGUubWF4SGVpZ2h0ID0gJzIwMDBweCc7XG5cbiAgICBhZGRBY2NJdGVtLmNsYXNzTGlzdC5hZGQoXCJpcy1vcGVuXCIpO1xuICAgIGNvbnN0IHRpdGxlID0gYWRkQWNjSXRlbS5xdWVyeVNlbGVjdG9yKFwiLmFjY29yZGlvbl9fdGl0bGUtdGV4dFwiKTtcbiAgICBjb25zdCBib2R5ID0gYWRkQWNjSXRlbS5xdWVyeVNlbGVjdG9yKFwiLmFjY29yZGlvbl9fYm9keVwiKTtcbiAgICB0aXRsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCApID0+IHtcbiAgICAgICAgaWYgKGFkZEFjY0l0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXMtb3BlblwiKSkge1xuICAgICAgICAgICAgYm9keS5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICAgICAgICAgIGFkZEFjY0l0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImlzLW9wZW5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICBib2R5LnN0eWxlLnRyYW5zaXRpb24gPSAnbWF4LWhlaWdodCA1cyBjdWJpYy1iZXppZXIoMC4yMiwgMC42MSwgMC4zNiwgMSknO1xuICAgICAgICAgICAgYm9keS5zdHlsZS5tYXhIZWlnaHQgPSAnMjAwMHB4JztcbiAgICAgICAgICAgIGFkZEFjY0l0ZW0uY2xhc3NMaXN0LmFkZChcImlzLW9wZW5cIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuKGZ1bmN0aW9uKCl7XG4gICAgaWYoYXJlbnRJbmZvICYmIGNyZWF0ZVRleHQpe1xuICAgICAgICBhcmVudEluZm9GKClcbiAgICAgICAgY3JlYXRlVGV4dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICBpZihjcmVhdGVUZXh0LnZhbHVlLmxlbmd0aCA+IDEgJiYgY3JlYXRlVGV4dC52YWx1ZSAhPT0gXCIgXCIpe1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUZXh0LnNlbGVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIik7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUJsb2NrKGNyZWF0ZVRleHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUZXh0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRleHQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGV4dC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRleHQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlZGl0VGV4dCgpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZVRleHRGKCk7XG4gICAgICAgICAgICAgICAgY291bnRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KCkpO1xuXG5cblxuXG5cbiJdfQ==
