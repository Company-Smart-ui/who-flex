"use strict";var edit=document.querySelectorAll(".notebook__edit"),deleteText=document.querySelectorAll(".notebook__delete"),text=document.querySelectorAll(".accordion__notebook-text"),bodyAccordion=document.querySelectorAll(".accordion__body-wrap"),arentInfo=document.querySelector(".arent-info"),createText=document.getElementById("createText"),counterAcc=document.getElementById("counterAcc");function editText(){if(edit&&text){edit=document.querySelectorAll(".notebook__edit"),text=document.querySelectorAll(".accordion__notebook-text");for(var e=function(e){var t=!1;edit[e].addEventListener("click",(function(){if(t)text[e].removeAttribute("contentEditable");else{text[e].setAttribute("contentEditable",!0),text[e].addEventListener("paste",(function(e){e.preventDefault();var t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)})),text[e].focus();var n=document.createRange();n.selectNodeContents(text[e]),n.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(n),text[e].addEventListener("keyup",(function(){if(text[e].innerHTML.length>1e3){var t=text[e].innerHTML.substring(0,1e3);text[e].innerHTML=t,n.selectNodeContents(text[e]),n.collapse(!1),o.removeAllRanges(),o.addRange(n)}}))}text[e].addEventListener("blur",(function(){text[e].querySelectorAll("div").forEach((function(e){"<br>"===e.innerHTML&&e.remove()})),text[e].removeAttribute("contentEditable"),t=!1})),text[e].addEventListener("keyup",(function(n){13===n.keyCode&&(text[e].removeAttribute("contentEditable"),t=!1)})),t=!t}))},t=0;t<edit.length;t++)e(t)}}function deleteTextF(){deleteText&&(deleteText=document.querySelectorAll(".notebook__delete")).forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".accordion__body-wrap"),n=e.closest(".accordion__item");t.remove(),n.querySelector(".accordion__body-wrap")||n.remove(),arentInfoF(),counter()}))}))}function counter(){var e=(bodyAccordion=document.querySelectorAll(".accordion__body-wrap")).length;counterAcc.innerHTML=String(e)}editText(),deleteTextF(),counter();var accordion=arentInfo.querySelector(".accordion"),arent=arentInfo.querySelector(".arent");function arentInfoF(){arent.classList.add("d-none"),arentInfo.querySelector(".accordion__item")||arent.classList.remove("d-none")}function createBlock(){arent.classList.add("d-none");var e=document.createElement("div");e.className="accordion__item is-open",e.innerHTML='<h3 type="button" class="accordion__title-text">Introduction</h3>\n<div class="accordion__body">\n                        <div class="accordion__body-wrap">\n                            <div class="accordion__svg">\n                                <button class="notebook__edit">\n                                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none">\n                                        <path d="M18 4.7156C18.0015 4.47636 17.9075 4.24646 17.739 4.07668L13.923 0.260956C13.7532 0.0925203 13.5232 -0.00149016 13.284 1.78666e-05C13.0447 -0.00148873 12.8148 0.0925203 12.645 0.260956L10.0979 2.80766L0.260979 12.6441C0.0925284 12.8139 -0.00149029 13.0438 1.78682e-05 13.2831V17.0988C1.78682e-05 17.3374 0.0947886 17.5664 0.26354 17.7352C0.432291 17.9039 0.661291 17.9987 0.899973 17.9987H4.71603C4.97066 18.0125 5.21927 17.9178 5.40006 17.7377L15.183 7.90164L17.739 5.39982C17.8211 5.31259 17.8882 5.2121 17.937 5.10273C17.9457 5.03101 17.9457 4.95855 17.937 4.88683C17.9412 4.84495 17.9412 4.80276 17.937 4.76088L18 4.7156ZM4.34714 16.1986H1.80005V13.6517L10.7371 4.71541L13.2842 7.26227L4.34714 16.1986ZM14.5532 5.99337L12.0063 3.44667L13.2843 2.17784L15.8223 4.71568L14.5532 5.99337Z" fill="#666666"/>\n                                    </svg>\n                                </button>\n                                <button class="notebook__delete">\n                                    <svg viewBox="248.724 10.377 16.176 17.999" width="16.176" height="17.999">\n                                       <path d="M 5.656 3.341 L 6.189 2.576 L 9.104 0.837 L 7.976 0.85 C 7.336 0.85 6.724 1.105 6.272 1.556 C 5.82 2.008 5.491 2.722 5.49 3.361 L 4.583 3.486 L 3.015 3.466 M 2.199 4.974 C 2.199 5.087 2.225 7.921 2.168 7.895 C 1.578 7.627 0.914 6.714 0.914 6.472 C 0.67 5.781 0.777 5.014 1.2 4.417 C 1.624 3.819 2.311 3.464 3.044 3.466 M 2.021 4.469 C 2.358 4.416 2.286 3.947 2.915 3.656 C 3.403 3.431 4.594 3.417 5.25 3.359 C 5.941 3.298 6.837 1.87 7.825 1.478 C 8.819 1.083 8.965 0.892 9.528 0.834 C 10.168 0.834 10.871 1.105 11.323 1.556 C 11.775 2.008 12.029 2.621 12.03 3.26 L 12.03 3.316 L 14.551 3.316 C 15.412 3.316 16.208 3.775 16.638 4.521 C 17.069 5.267 17.069 6.185 16.638 6.931 C 16.208 7.677 15.412 8.136 14.551 8.136 L 3.811 8.136 L 3.811 16.411 C 3.811 16.644 3.904 16.867 4.068 17.031 C 4.233 17.196 4.456 17.288 4.688 17.289 L 12.907 17.289 C 13.14 17.288 13.363 17.196 13.527 17.031 C 13.692 16.867 13.784 16.644 13.785 16.411 L 13.785 11.48 C 13.785 11.206 13.931 10.953 14.168 10.816 C 14.405 10.679 14.697 10.679 14.934 10.816 C 15.172 10.953 15.318 11.206 15.318 11.48 L 15.318 16.411 C 15.317 17.05 15.063 17.663 14.611 18.115 C 14.159 18.567 13.547 18.821 12.908 18.821 L 12.907 18.821 L 4.688 18.821 C 4.049 18.821 3.436 18.567 2.984 18.115 C 2.532 17.663 2.278 17.05 2.278 16.411 L 2.286 7.954 L 2.021 4.469 Z M 10.712 3.287 C 11.207 3.523 10.589 2.26 9.516 2.286 L 7.954 2.286 C 7.954 2.286 7.52 2.476 7.356 2.64 C 7.191 2.805 7.099 3.028 7.098 3.26 M 7.098 3.26 L 7.098 3.316 M 7.098 3.26 L 7.098 3.316 M 7.098 3.316 L 11.401 3.304 M 15.171 6.346 C 15.336 6.182 15.428 5.959 15.429 5.726 C 15.428 5.494 15.336 5.271 15.171 5.106 C 15.007 4.942 14.784 4.849 14.551 4.849 L 3.044 4.849 C 2.4 4.793 1.958 5.79 2.284 6.165 C 2.61 6.54 2.579 6.588 3.044 6.603 L 14.551 6.603 M 15.171 6.346 L 15.277 6.452 C 15.085 6.645 14.824 6.753 14.551 6.753 L 14.551 6.603 M 15.171 6.346 C 15.007 6.51 14.784 6.603 14.551 6.603 M 15.171 6.346 C 15.38 6.523 14.903 6.901 14.551 6.603 M 3.09 18.009 C 3.514 18.433 4.089 18.671 4.688 18.671 L 12.907 18.671 C 13.507 18.671 14.013 16.824 14.505 18.009 C 14.997 19.194 3.068 19.018 3.09 18.009 Z" fill="#666666" stroke="#666666" stroke-width="0.3" transform="matrix(1, 0, 0, 1, 247.939087, 9.542551)"></path>\n                                        <path d="M 10.059 14.609 C 10.297 14.746 10.589 14.746 10.826 14.609 C 11.063 14.472 11.209 14.219 11.209 13.945 L 11.209 10.657 C 11.209 10.384 11.09 9.964 10.602 9.916 C 9.98 9.913 9.856 10.447 9.819 10.65 C 9.814 10.677 9.8 13.931 9.802 13.996 C 9.81 14.229 10.041 14.556 10.059 14.609 Z" fill="#666666" transform="matrix(1, 0, 0, 1, 247.939087, 9.542551)" style="paint-order: stroke;" stroke-width="0.3"></path>\n                                        <path d="M13.7836 9.0139V9.83577C13.7836 10.1097 13.9297 10.3627 14.1668 10.4996C14.4039 10.6364 14.6961 10.6364 14.9332 10.4996C15.1704 10.3627 15.3165 10.1096 15.3165 9.83577V9.0139C15.3165 8.74002 15.1704 8.48699 14.9332 8.35011C14.6961 8.21325 14.4039 8.21324 14.1668 8.35011C13.9297 8.48699 13.7836 8.74002 13.7836 9.0139Z" fill="#666666" stroke="#666666" stroke-width="0.3" transform="matrix(1, 0, 0, 1, 247.939087, 9.542551)"></path>\n                                        <path d="M 254.573 24.176 C 254.811 24.313 255.103 24.313 255.34 24.176 C 255.577 24.039 255.723 23.786 255.723 23.512 L 255.723 20.224 C 255.723 19.951 255.604 19.531 255.116 19.483 C 254.494 19.48 254.37 20.014 254.333 20.217 C 254.328 20.244 254.314 23.498 254.316 23.563 C 254.324 23.796 254.555 24.123 254.573 24.176 Z" fill="#666666" style="paint-order: stroke;" stroke-width="0.3"></path>\n                                    </svg>\n                                </button>\n                            </div>\n                            <h4 class="accordion__audio">\n                                <svg width="16" height="19" viewBox="0 0 16 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                    <path d="M1 1V17.6667L14.5417 9.33333L1 1Z" stroke="#D2B038" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                                </svg>\n                                Why the future of work matters (00:24)\n                            </h4>\n                            <div className="accordion__notebook-wrap-text">\n                                <p class="accordion__notebook-text">'+createText.value+"</p></div></div></div>",accordion.append(e);var t=e.querySelector(".accordion__body");t.style.overflow="hidden",t.style.transition="max-height 5s cubic-bezier(0.22, 0.61, 0.36, 1)",t.style.maxHeight="2000px",e.classList.add("is-open");var n=e.querySelector(".accordion__title-text"),o=e.querySelector(".accordion__body");n.addEventListener("click",(function(){e.classList.contains("is-open")?(o.removeAttribute("style"),e.classList.remove("is-open")):(o.style.overflow="hidden",o.style.transition="max-height 5s cubic-bezier(0.22, 0.61, 0.36, 1)",o.style.maxHeight="2000px",e.classList.add("is-open"))}))}arentInfoF(),arentInfo&&createText&&(arentInfoF(),createText.addEventListener("keyup",(function(e){13===e.keyCode&&(createText.value.length>1&&" "!==createText.value?(createText.select(),document.execCommand("copy"),createBlock(createText.value),createText.focus(),createText.value=""):(createText.blur(),createText.value=""),editText(),deleteTextF(),counter())})));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdGVib29rLmpzIl0sIm5hbWVzIjpbImVkaXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkZWxldGVUZXh0IiwidGV4dCIsImJvZHlBY2NvcmRpb24iLCJhcmVudEluZm8iLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlVGV4dCIsImdldEVsZW1lbnRCeUlkIiwiY291bnRlckFjYyIsImVkaXRUZXh0IiwiX2xvb3AiLCJpIiwiZWRpdE1vZGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiZSIsInByZXZlbnREZWZhdWx0Iiwib3JpZ2luYWxFdmVudCIsImNsaXBib2FyZERhdGEiLCJnZXREYXRhIiwiZXhlY0NvbW1hbmQiLCJmb2N1cyIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJjb2xsYXBzZSIsInNlbCIsIndpbmRvdyIsImdldFNlbGVjdGlvbiIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiaW5uZXJIVE1MIiwibGVuZ3RoIiwiY3VyclRleHQiLCJzdWJzdHJpbmciLCJmb3JFYWNoIiwiZGl2IiwicmVtb3ZlIiwia2V5Q29kZSIsImRlbGV0ZVRleHRGIiwiaXRlbSIsInBhcmVudCIsImNsb3Nlc3QiLCJtYWluUGFyZW50IiwiYXJlbnRJbmZvRiIsImNvdW50ZXIiLCJudW0iLCJTdHJpbmciLCJhY2NvcmRpb24iLCJhcmVudCIsImNsYXNzTGlzdCIsImFkZCIsImNyZWF0ZUJsb2NrIiwiYWRkQWNjSXRlbSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJ2YWx1ZSIsImFwcGVuZCIsImFjY0JvZHkiLCJzdHlsZSIsIm92ZXJmbG93IiwidHJhbnNpdGlvbiIsIm1heEhlaWdodCIsInRpdGxlIiwiYm9keSIsImNvbnRhaW5zIiwic2VsZWN0IiwiYmx1ciJdLCJtYXBwaW5ncyI6IkFBQUEsYUFBQSxJQUFJQSxLQUFPQyxTQUFTQyxpQkFBaUIs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V0UsVUFBWSwwQkFDdkJGLEVBQVd0QixVQUFZLDB6TEEwQm5CMUIsV0FBV21ELE1BQVEseUJBQ3ZCUixVQUFVUyxPQUFPSixHQUVqQixJQUFNSyxFQUFVTCxFQUFXakQsY0FBYyxvQkFDekNzRCxFQUFRQyxNQUFNQyxTQUFXLFNBQ3pCRixFQUFRQyxNQUFNRSxXQUFhLGtEQUMzQkgsRUFBUUMsTUFBTUcsVUFBWSxTQUUxQlQsRUFBV0gsVUFBVUMsSUFBSSxXQUN6QixJQUFNWSxFQUFRVixFQUFXakQsY0FBYywwQkFDakM0RCxFQUFPWCxFQUFXakQsY0FBYyxvQkFDdEMyRCxFQUFNbkQsaUJBQWlCLFNBQVMsV0FDeEJ5QyxFQUFXSCxVQUFVZSxTQUFTLFlBQzlCRCxFQUFLbkQsZ0JBQWdCLFNBQ3JCd0MsRUFBV0gsVUFBVWIsT0FBTyxhQUU1QjJCLEVBQUtMLE1BQU1DLFNBQVcsU0FDdEJJLEVBQUtMLE1BQU1FLFdBQWEsa0RBQ3hCRyxFQUFLTCxNQUFNRyxVQUFZLFNBQ3ZCVCxFQUFXSCxVQUFVQyxJQUFJLFdBRWpDLEdBQ0osQ0FyRENQLGFBd0RNekMsV0FBYUUsYUFDWnVDLGFBQ0F2QyxXQUFXTyxpQkFBaUIsU0FBUyxTQUFTRyxHQUN4QixLQUFkQSxFQUFFdUIsVUFDQ2pDLFdBQVdtRCxNQUFNeEIsT0FBUyxHQUEwQixNQUFyQjNCLFdBQVdtRCxPQUN6Q25ELFdBQVc2RCxTQUNYcEUsU0FBU3NCLFlBQVksUUFDckJnQyxZQUFZL0MsV0FBV21ELE9BQ3ZCbkQsV0FBV2dCLFFBQ1hoQixXQUFXbUQsTUFBUSxLQUVuQm5ELFdBQVc4RCxPQUNYOUQsV0FBV21ELE1BQVEsSUFFdkJoRCxXQUNBK0IsY0FDQU0sVUFFUiIsImZpbGUiOiJub3RlYm9vay5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBlZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5vdGVib29rX19lZGl0Jyk7XG5sZXQgZGVsZXRlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3RlYm9va19fZGVsZXRlJyk7XG5sZXQgdGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX25vdGVib29rLXRleHQnKTtcbmxldCBib2R5QWNjb3JkaW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlvbl9fYm9keS13cmFwJyk7XG5jb25zdCBhcmVudEluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJlbnQtaW5mbycpO1xuY29uc3QgY3JlYXRlVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGVUZXh0Jyk7XG5jb25zdCBjb3VudGVyQWNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50ZXJBY2MnKTtcblxuXG5mdW5jdGlvbiBlZGl0VGV4dCgpe1xuICAgIGlmKGVkaXQgJiYgdGV4dCl7XG4gICAgICAgIGVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubm90ZWJvb2tfX2VkaXQnKTtcbiAgICAgICAgdGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX25vdGVib29rLXRleHQnKTtcbiAgICAgICAgZm9yKCBsZXQgaSA9IDA7IGkgPCBlZGl0Lmxlbmd0aDsgaSsrICl7XG4gICAgICAgICAgICBsZXQgZWRpdE1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGVkaXRbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmKCBlZGl0TW9kZSApIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dFtpXS5yZW1vdmVBdHRyaWJ1dGUoJ2NvbnRlbnRFZGl0YWJsZScpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRbaV0uc2V0QXR0cmlidXRlKCdjb250ZW50RWRpdGFibGUnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dFtpXS5hZGRFdmVudExpc3RlbmVyKFwicGFzdGVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IChlLm9yaWdpbmFsRXZlbnQgfHwgZSkuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcImluc2VydEhUTUxcIiwgZmFsc2UsIHRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dFtpXS5mb2N1cygpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKHRleHRbaV0pO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRleHRbaV0uYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGV4dFtpXS5pbm5lckhUTUwubGVuZ3RoID4gMTAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJUZXh0ID0gdGV4dFtpXS5pbm5lckhUTUwuc3Vic3RyaW5nKDAsIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRbaV0uaW5uZXJIVE1MID0gY3VyclRleHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHModGV4dFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZXh0W2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGl2cyA9IHRleHRbaV0ucXVlcnlTZWxlY3RvckFsbCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGRpdnMuZm9yRWFjaChkaXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGl2LmlubmVySFRNTCA9PT0gYDxicj5gKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYucmVtb3ZlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgdGV4dFtpXS5yZW1vdmVBdHRyaWJ1dGUoJ2NvbnRlbnRFZGl0YWJsZScpO1xuICAgICAgICAgICAgICAgICAgICBlZGl0TW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGV4dFtpXS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uIChlKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRbaV0ucmVtb3ZlQXR0cmlidXRlKCdjb250ZW50RWRpdGFibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGVkaXRNb2RlID0gIWVkaXRNb2RlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5lZGl0VGV4dCgpO1xuZnVuY3Rpb24gZGVsZXRlVGV4dEYoKXtcbiAgICBpZihkZWxldGVUZXh0KXtcbiAgICAgICAgZGVsZXRlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3RlYm9va19fZGVsZXRlJyk7XG4gICAgICAgIGRlbGV0ZVRleHQuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGl0ZW0uY2xvc2VzdCgnLmFjY29yZGlvbl9fYm9keS13cmFwJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFpblBhcmVudCA9IGl0ZW0uY2xvc2VzdCgnLmFjY29yZGlvbl9faXRlbScpO1xuICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBpZighbWFpblBhcmVudC5xdWVyeVNlbGVjdG9yKCcuYWNjb3JkaW9uX19ib2R5LXdyYXAnKSl7XG4gICAgICAgICAgICAgICAgICAgIG1haW5QYXJlbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFyZW50SW5mb0YoKTtcbiAgICAgICAgICAgICAgICBjb3VudGVyKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbn1cbmRlbGV0ZVRleHRGKCk7XG5cbmZ1bmN0aW9uIGNvdW50ZXIoKXtcbiAgICBib2R5QWNjb3JkaW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlvbl9fYm9keS13cmFwJyk7XG4gICAgbGV0IG51bSA9IGJvZHlBY2NvcmRpb24ubGVuZ3RoO1xuICAgIGNvdW50ZXJBY2MuaW5uZXJIVE1MID0gU3RyaW5nKG51bSk7XG59XG5jb3VudGVyKCk7XG5cbmNvbnN0IGFjY29yZGlvbiA9IGFyZW50SW5mby5xdWVyeVNlbGVjdG9yKCcuYWNjb3JkaW9uJyk7XG5jb25zdCBhcmVudCA9IGFyZW50SW5mby5xdWVyeVNlbGVjdG9yKCcuYXJlbnQnKVxuXG5mdW5jdGlvbiBhcmVudEluZm9GKCl7XG4gICAgYXJlbnQuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG4gICAgaWYoIWFyZW50SW5mby5xdWVyeVNlbGVjdG9yKCcuYWNjb3JkaW9uX19pdGVtJykpe1xuICAgICAgICBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcbiAgICB9XG59YXJlbnRJbmZvRigpO1xuZnVuY3Rpb24gY3JlYXRlQmxvY2soKXtcbiAgICBhcmVudC5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcbiAgICBjb25zdCBhZGRBY2NJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYWRkQWNjSXRlbS5jbGFzc05hbWUgPSAnYWNjb3JkaW9uX19pdGVtIGlzLW9wZW4nO1xuICAgIGFkZEFjY0l0ZW0uaW5uZXJIVE1MID0gXCI8aDMgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYWNjb3JkaW9uX190aXRsZS10ZXh0XFxcIj5JbnRyb2R1Y3Rpb248L2gzPlxcblwiICtcbiAgICAgICAgXCI8ZGl2IGNsYXNzPVxcXCJhY2NvcmRpb25fX2JvZHlcXFwiPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhY2NvcmRpb25fX2JvZHktd3JhcFxcXCI+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhY2NvcmRpb25fX3N2Z1xcXCI+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwibm90ZWJvb2tfX2VkaXRcXFwiPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIiBmaWxsPVxcXCJub25lXFxcIj5cXG5cIiArXG4gICAgICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XFxcIk0xOCA0LjcxNTZDMTguMDAxNSA0LjQ3NjM2IDE3LjkwNzUgNC4yNDY0NiAxNy43MzkgNC4wNzY2OEwxMy45MjMgMC4yNjA5NTZDMTMuNzUzMiAwLjA5MjUyMDMgMTMuNTIzMiAtMC4wMDE0OTAxNiAxMy4yODQgMS43ODY2NmUtMDVDMTMuMDQ0NyAtMC4wMDE0ODg3MyAxMi44MTQ4IDAuMDkyNTIwMyAxMi42NDUgMC4yNjA5NTZMMTAuMDk3OSAyLjgwNzY2TDAuMjYwOTc5IDEyLjY0NDFDMC4wOTI1Mjg0IDEyLjgxMzkgLTAuMDAxNDkwMjkgMTMuMDQzOCAxLjc4NjgyZS0wNSAxMy4yODMxVjE3LjA5ODhDMS43ODY4MmUtMDUgMTcuMzM3NCAwLjA5NDc4ODYgMTcuNTY2NCAwLjI2MzU0IDE3LjczNTJDMC40MzIyOTEgMTcuOTAzOSAwLjY2MTI5MSAxNy45OTg3IDAuODk5OTczIDE3Ljk5ODdINC43MTYwM0M0Ljk3MDY2IDE4LjAxMjUgNS4yMTkyNyAxNy45MTc4IDUuNDAwMDYgMTcuNzM3N0wxNS4xODMgNy45MDE2NEwxNy43MzkgNS4zOTk4MkMxNy44MjExIDUuMzEyNTkgMTcuODg4MiA1LjIxMjEgMTcuOTM3IDUuMTAyNzNDMTcuOTQ1NyA1LjAzMTAxIDE3Ljk0NTcgNC45NTg1NSAxNy45MzcgNC44ODY4M0MxNy45NDEyIDQuODQ0OTUgMTcuOTQxMiA0LjgwMjc2IDE3LjkzNyA0Ljc2MDg4TDE4IDQuNzE1NlpNNC4zNDcxNCAxNi4xOTg2SDEuODAwMDVWMTMuNjUxN0wxMC43MzcxIDQuNzE1NDFMMTMuMjg0MiA3LjI2MjI3TDQuMzQ3MTQgMTYuMTk4NlpNMTQuNTUzMiA1Ljk5MzM3TDEyLjAwNjMgMy40NDY2N0wxMy4yODQzIDIuMTc3ODRMMTUuODIyMyA0LjcxNTY4TDE0LjU1MzIgNS45OTMzN1pcXFwiIGZpbGw9XFxcIiM2NjY2NjZcXFwiLz5cXG5cIiArXG4gICAgICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwibm90ZWJvb2tfX2RlbGV0ZVxcXCI+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD1cXFwiMjQ4LjcyNCAxMC4zNzcgMTYuMTc2IDE3Ljk5OVxcXCIgd2lkdGg9XFxcIjE2LjE3NlxcXCIgaGVpZ2h0PVxcXCIxNy45OTlcXFwiPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVxcXCJNIDUuNjU2IDMuMzQxIEwgNi4xODkgMi41NzYgTCA5LjEwNCAwLjgzNyBMIDcuOTc2IDAuODUgQyA3LjMzNiAwLjg1IDYuNzI0IDEuMTA1IDYuMjcyIDEuNTU2IEMgNS44MiAyLjAwOCA1LjQ5MSAyLjcyMiA1LjQ5IDMuMzYxIEwgNC41ODMgMy40ODYgTCAzLjAxNSAzLjQ2NiBNIDIuMTk5IDQuOTc0IEMgMi4xOTkgNS4wODcgMi4yMjUgNy45MjEgMi4xNjggNy44OTUgQyAxLjU3OCA3LjYyNyAwLjkxNCA2LjcxNCAwLjkxNCA2LjQ3MiBDIDAuNjcgNS43ODEgMC43NzcgNS4wMTQgMS4yIDQuNDE3IEMgMS42MjQgMy44MTkgMi4zMTEgMy40NjQgMy4wNDQgMy40NjYgTSAyLjAyMSA0LjQ2OSBDIDIuMzU4IDQuNDE2IDIuMjg2IDMuOTQ3IDIuOTE1IDMuNjU2IEMgMy40MDMgMy40MzEgNC41OTQgMy40MTcgNS4yNSAzLjM1OSBDIDUuOTQxIDMuMjk4IDYuODM3IDEuODcgNy44MjUgMS40NzggQyA4LjgxOSAxLjA4MyA4Ljk2NSAwLjg5MiA5LjUyOCAwLjgzNCBDIDEwLjE2OCAwLjgzNCAxMC44NzEgMS4xMDUgMTEuMzIzIDEuNTU2IEMgMTEuNzc1IDIuMDA4IDEyLjAyOSAyLjYyMSAxMi4wMyAzLjI2IEwgMTIuMDMgMy4zMTYgTCAxNC41NTEgMy4zMTYgQyAxNS40MTIgMy4zMTYgMTYuMjA4IDMuNzc1IDE2LjYzOCA0LjUyMSBDIDE3LjA2OSA1LjI2NyAxNy4wNjkgNi4xODUgMTYuNjM4IDYuOTMxIEMgMTYuMjA4IDcuNjc3IDE1LjQxMiA4LjEzNiAxNC41NTEgOC4xMzYgTCAzLjgxMSA4LjEzNiBMIDMuODExIDE2LjQxMSBDIDMuODExIDE2LjY0NCAzLjkwNCAxNi44NjcgNC4wNjggMTcuMDMxIEMgNC4yMzMgMTcuMTk2IDQuNDU2IDE3LjI4OCA0LjY4OCAxNy4yODkgTCAxMi45MDcgMTcuMjg5IEMgMTMuMTQgMTcuMjg4IDEzLjM2MyAxNy4xOTYgMTMuNTI3IDE3LjAzMSBDIDEzLjY5MiAxNi44NjcgMTMuNzg0IDE2LjY0NCAxMy43ODUgMTYuNDExIEwgMTMuNzg1IDExLjQ4IEMgMTMuNzg1IDExLjIwNiAxMy45MzEgMTAuOTUzIDE0LjE2OCAxMC44MTYgQyAxNC40MDUgMTAuNjc5IDE0LjY5NyAxMC42NzkgMTQuOTM0IDEwLjgxNiBDIDE1LjE3MiAxMC45NTMgMTUuMzE4IDExLjIwNiAxNS4zMTggMTEuNDggTCAxNS4zMTggMTYuNDExIEMgMTUuMzE3IDE3LjA1IDE1LjA2MyAxNy42NjMgMTQuNjExIDE4LjExNSBDIDE0LjE1OSAxOC41NjcgMTMuNTQ3IDE4LjgyMSAxMi45MDggMTguODIxIEwgMTIuOTA3IDE4LjgyMSBMIDQuNjg4IDE4LjgyMSBDIDQuMDQ5IDE4LjgyMSAzLjQzNiAxOC41NjcgMi45ODQgMTguMTE1IEMgMi41MzIgMTcuNjYzIDIuMjc4IDE3LjA1IDIuMjc4IDE2LjQxMSBMIDIuMjg2IDcuOTU0IEwgMi4wMjEgNC40NjkgWiBNIDEwLjcxMiAzLjI4NyBDIDExLjIwNyAzLjUyMyAxMC41ODkgMi4yNiA5LjUxNiAyLjI4NiBMIDcuOTU0IDIuMjg2IEMgNy45NTQgMi4yODYgNy41MiAyLjQ3NiA3LjM1NiAyLjY0IEMgNy4xOTEgMi44MDUgNy4wOTkgMy4wMjggNy4wOTggMy4yNiBNIDcuMDk4IDMuMjYgTCA3LjA5OCAzLjMxNiBNIDcuMDk4IDMuMjYgTCA3LjA5OCAzLjMxNiBNIDcuMDk4IDMuMzE2IEwgMTEuNDAxIDMuMzA0IE0gMTUuMTcxIDYuMzQ2IEMgMTUuMzM2IDYuMTgyIDE1LjQyOCA1Ljk1OSAxNS40MjkgNS43MjYgQyAxNS40MjggNS40OTQgMTUuMzM2IDUuMjcxIDE1LjE3MSA1LjEwNiBDIDE1LjAwNyA0Ljk0MiAxNC43ODQgNC44NDkgMTQuNTUxIDQuODQ5IEwgMy4wNDQgNC44NDkgQyAyLjQgNC43OTMgMS45NTggNS43OSAyLjI4NCA2LjE2NSBDIDIuNjEgNi41NCAyLjU3OSA2LjU4OCAzLjA0NCA2LjYwMyBMIDE0LjU1MSA2LjYwMyBNIDE1LjE3MSA2LjM0NiBMIDE1LjI3NyA2LjQ1MiBDIDE1LjA4NSA2LjY0NSAxNC44MjQgNi43NTMgMTQuNTUxIDYuNzUzIEwgMTQuNTUxIDYuNjAzIE0gMTUuMTcxIDYuMzQ2IEMgMTUuMDA3IDYuNTEgMTQuNzg0IDYuNjAzIDE0LjU1MSA2LjYwMyBNIDE1LjE3MSA2LjM0NiBDIDE1LjM4IDYuNTIzIDE0LjkwMyA2LjkwMSAxNC41NTEgNi42MDMgTSAzLjA5IDE4LjAwOSBDIDMuNTE0IDE4LjQzMyA0LjA4OSAxOC42NzEgNC42ODggMTguNjcxIEwgMTIuOTA3IDE4LjY3MSBDIDEzLjUwNyAxOC42NzEgMTQuMDEzIDE2LjgyNCAxNC41MDUgMTguMDA5IEMgMTQuOTk3IDE5LjE5NCAzLjA2OCAxOS4wMTggMy4wOSAxOC4wMDkgWlxcXCIgZmlsbD1cXFwiIzY2NjY2NlxcXCIgc3Ryb2tlPVxcXCIjNjY2NjY2XFxcIiBzdHJva2Utd2lkdGg9XFxcIjAuM1xcXCIgdHJhbnNmb3JtPVxcXCJtYXRyaXgoMSwgMCwgMCwgMSwgMjQ3LjkzOTA4NywgOS41NDI1NTEpXFxcIj48L3BhdGg+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVxcXCJNIDEwLjA1OSAxNC42MDkgQyAxMC4yOTcgMTQuNzQ2IDEwLjU4OSAxNC43NDYgMTAuODI2IDE0LjYwOSBDIDExLjA2MyAxNC40NzIgMTEuMjA5IDE0LjIxOSAxMS4yMDkgMTMuOTQ1IEwgMTEuMjA5IDEwLjY1NyBDIDExLjIwOSAxMC4zODQgMTEuMDkgOS45NjQgMTAuNjAyIDkuOTE2IEMgOS45OCA5LjkxMyA5Ljg1NiAxMC40NDcgOS44MTkgMTAuNjUgQyA5LjgxNCAxMC42NzcgOS44IDEzLjkzMSA5LjgwMiAxMy45OTYgQyA5LjgxIDE0LjIyOSAxMC4wNDEgMTQuNTU2IDEwLjA1OSAxNC42MDkgWlxcXCIgZmlsbD1cXFwiIzY2NjY2NlxcXCIgdHJhbnNmb3JtPVxcXCJtYXRyaXgoMSwgMCwgMCwgMSwgMjQ3LjkzOTA4NywgOS41NDI1NTEpXFxcIiBzdHlsZT1cXFwicGFpbnQtb3JkZXI6IHN0cm9rZTtcXFwiIHN0cm9rZS13aWR0aD1cXFwiMC4zXFxcIj48L3BhdGg+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVxcXCJNMTMuNzgzNiA5LjAxMzlWOS44MzU3N0MxMy43ODM2IDEwLjEwOTcgMTMuOTI5NyAxMC4zNjI3IDE0LjE2NjggMTAuNDk5NkMxNC40MDM5IDEwLjYzNjQgMTQuNjk2MSAxMC42MzY0IDE0LjkzMzIgMTAuNDk5NkMxNS4xNzA0IDEwLjM2MjcgMTUuMzE2NSAxMC4xMDk2IDE1LjMxNjUgOS44MzU3N1Y5LjAxMzlDMTUuMzE2NSA4Ljc0MDAyIDE1LjE3MDQgOC40ODY5OSAxNC45MzMyIDguMzUwMTFDMTQuNjk2MSA4LjIxMzI1IDE0LjQwMzkgOC4yMTMyNCAxNC4xNjY4IDguMzUwMTFDMTMuOTI5NyA4LjQ4Njk5IDEzLjc4MzYgOC43NDAwMiAxMy43ODM2IDkuMDEzOVpcXFwiIGZpbGw9XFxcIiM2NjY2NjZcXFwiIHN0cm9rZT1cXFwiIzY2NjY2NlxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIwLjNcXFwiIHRyYW5zZm9ybT1cXFwibWF0cml4KDEsIDAsIDAsIDEsIDI0Ny45MzkwODcsIDkuNTQyNTUxKVxcXCI+PC9wYXRoPlxcblwiICtcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cXFwiTSAyNTQuNTczIDI0LjE3NiBDIDI1NC44MTEgMjQuMzEzIDI1NS4xMDMgMjQuMzEzIDI1NS4zNCAyNC4xNzYgQyAyNTUuNTc3IDI0LjAzOSAyNTUuNzIzIDIzLjc4NiAyNTUuNzIzIDIzLjUxMiBMIDI1NS43MjMgMjAuMjI0IEMgMjU1LjcyMyAxOS45NTEgMjU1LjYwNCAxOS41MzEgMjU1LjExNiAxOS40ODMgQyAyNTQuNDk0IDE5LjQ4IDI1NC4zNyAyMC4wMTQgMjU0LjMzMyAyMC4yMTcgQyAyNTQuMzI4IDIwLjI0NCAyNTQuMzE0IDIzLjQ5OCAyNTQuMzE2IDIzLjU2MyBDIDI1NC4zMjQgMjMuNzk2IDI1NC41NTUgMjQuMTIzIDI1NC41NzMgMjQuMTc2IFpcXFwiIGZpbGw9XFxcIiM2NjY2NjZcXFwiIHN0eWxlPVxcXCJwYWludC1vcmRlcjogc3Ryb2tlO1xcXCIgc3Ryb2tlLXdpZHRoPVxcXCIwLjNcXFwiPjwvcGF0aD5cXG5cIiArXG4gICAgICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cXFwiYWNjb3JkaW9uX19hdWRpb1xcXCI+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cXFwiMTZcXFwiIGhlaWdodD1cXFwiMTlcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxOVxcXCIgZmlsbD1cXFwibm9uZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj5cXG5cIiArXG4gICAgICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cXFwiTTEgMVYxNy42NjY3TDE0LjU0MTcgOS4zMzMzM0wxIDFaXFxcIiBzdHJva2U9XFxcIiNEMkIwMzhcXFwiIHN0cm9rZS13aWR0aD1cXFwiMlxcXCIgc3Ryb2tlLWxpbmVjYXA9XFxcInJvdW5kXFxcIiBzdHJva2UtbGluZWpvaW49XFxcInJvdW5kXFxcIi8+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV2h5IHRoZSBmdXR1cmUgb2Ygd29yayBtYXR0ZXJzICgwMDoyNClcXG5cIiArXG4gICAgICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XFxuXCIgK1xuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cXFwiYWNjb3JkaW9uX19ub3RlYm9vay13cmFwLXRleHRcXFwiPlxcbiBcIiArXG4gICAgICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJhY2NvcmRpb25fX25vdGVib29rLXRleHRcXFwiPlwiICtcbiAgICAgICAgY3JlYXRlVGV4dC52YWx1ZSArIFwiPC9wPjwvZGl2PjwvZGl2PjwvZGl2PlwiO1xuICAgIGFjY29yZGlvbi5hcHBlbmQoYWRkQWNjSXRlbSk7XG5cbiAgICBjb25zdCBhY2NCb2R5ID0gYWRkQWNjSXRlbS5xdWVyeVNlbGVjdG9yKCcuYWNjb3JkaW9uX19ib2R5Jyk7XG4gICAgYWNjQm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIGFjY0JvZHkuc3R5bGUudHJhbnNpdGlvbiA9ICdtYXgtaGVpZ2h0IDVzIGN1YmljLWJlemllcigwLjIyLCAwLjYxLCAwLjM2LCAxKSc7XG4gICAgYWNjQm9keS5zdHlsZS5tYXhIZWlnaHQgPSAnMjAwMHB4JztcblxuICAgIGFkZEFjY0l0ZW0uY2xhc3NMaXN0LmFkZChcImlzLW9wZW5cIik7XG4gICAgY29uc3QgdGl0bGUgPSBhZGRBY2NJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuYWNjb3JkaW9uX190aXRsZS10ZXh0XCIpO1xuICAgIGNvbnN0IGJvZHkgPSBhZGRBY2NJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuYWNjb3JkaW9uX19ib2R5XCIpO1xuICAgIHRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoICkgPT4ge1xuICAgICAgICBpZiAoYWRkQWNjSXRlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1vcGVuXCIpKSB7XG4gICAgICAgICAgICBib2R5LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgICAgICAgICAgYWRkQWNjSXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtb3BlblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgICAgIGJvZHkuc3R5bGUudHJhbnNpdGlvbiA9ICdtYXgtaGVpZ2h0IDVzIGN1YmljLWJlemllcigwLjIyLCAwLjYxLCAwLjM2LCAxKSc7XG4gICAgICAgICAgICBib2R5LnN0eWxlLm1heEhlaWdodCA9ICcyMDAwcHgnO1xuICAgICAgICAgICAgYWRkQWNjSXRlbS5jbGFzc0xpc3QuYWRkKFwiaXMtb3BlblwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4oZnVuY3Rpb24oKXtcbiAgICBpZihhcmVudEluZm8gJiYgY3JlYXRlVGV4dCl7XG4gICAgICAgIGFyZW50SW5mb0YoKVxuICAgICAgICBjcmVhdGVUZXh0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICAgICAgICAgIGlmKGNyZWF0ZVRleHQudmFsdWUubGVuZ3RoID4gMSAmJiBjcmVhdGVUZXh0LnZhbHVlICE9PSBcIiBcIil7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRleHQuc2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQmxvY2soY3JlYXRlVGV4dC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRleHQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGV4dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUZXh0LmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGV4dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVkaXRUZXh0KCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlVGV4dEYoKTtcbiAgICAgICAgICAgICAgICBjb3VudGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0oKSk7XG5cblxuXG5cblxuIl19
